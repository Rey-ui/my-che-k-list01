{"version":3,"file":"commonHelpers.js","sources":["../src/js/modules/markup.js","../src/js/modules/render.js","../src/js/modules/storage.js","../src/js/modules/actions.js","../src/js/main.js"],"sourcesContent":["function createTaskMurkap(tasks) {\n  return tasks\n    .map(({ id, taskValue, isActive }) => {\n      return `<li id=\"${id}\" class=\"item\"><span class=\"item-text ${\n        !isActive ? \"finish\" : \"\"\n      }\">${taskValue}</span><button type=\"button\" class=\"item-btn\">X</button></li>`;\n    })\n    .join(\"\");\n}\nexport default createTaskMurkap;\n","import createTaskMurkap from \"./markup.js\";\n\nconst alternativeEl = '<p class=\"alternative\">No tasks</p>';\nfunction renderTaskMurkap(listEl, tasks) {\n  if (tasks.length !== 0) {\n    listEl.innerHTML = createTaskMurkap(tasks);\n  } else {\n    listEl.innerHTML = alternativeEl;\n  }\n}\nexport default renderTaskMurkap;\n","function saveTasks(API_KEY, tasks) {\n  localStorage.setItem(API_KEY, JSON.stringify(tasks));\n}\n\nexport default saveTasks;\n","import { nanoid } from \"nanoid\";\nimport renderTaskMurkap from \"./render.js\";\nimport saveTasks from \"./storage.js\";\n\nconst API_KEY = \"tasks-list\";\nexport const listEl = document.querySelector(\".list\");\n\nlet tasks = JSON.parse(localStorage.getItem(API_KEY)) || [];\n\nexport function createNewTask(e) {\n  e.preventDefault();\n  const form = e.currentTarget;\n  const taskText = form.elements.task.value;\n  const newTask = { id: nanoid(), taskValue: taskText, isActive: true };\n  tasks.push(newTask);\n  saveTasks(API_KEY, tasks);\n  renderTaskMurkap(listEl, tasks);\n  form.reset();\n}\n\nexport function handleDeleteTask(e) {\n  const btn = e.target.closest(\".item-btn\");\n  if (!btn) return;\n  const li = btn.closest(\"li\");\n  const updateTasks = tasks.filter(({ id }) => {\n    return id !== li.id;\n  });\n  tasks = updateTasks;\n  saveTasks(API_KEY, tasks);\n  renderTaskMurkap(listEl, tasks);\n}\n\nexport function handleFinishTask(e) {\n  const li = e.target.closest(\".item\");\n  const span = e.target.closest(\".item-text\");\n  if (!span) return;\n  const findeTask = tasks.find(({ id }) => {\n    return id == li.id;\n  });\n\n  if (findeTask.isActive) {\n    findeTask.isActive = false;\n    span.classList.add(\"finish\");\n  } else {\n    span.classList.remove(\"finish\");\n    findeTask.isActive = true;\n  }\n  saveTasks(API_KEY, tasks);\n}\n\n// export function handlecalcTasks(tasks) {\n\n// }\n\nrenderTaskMurkap(listEl, tasks);\n","import {\n  listEl,\n  createNewTask,\n  handleDeleteTask,\n  handleFinishTask,\n} from \"./modules/actions.js\";\n\nconst formEl = document.querySelector(\".form\");\n\nformEl.addEventListener(\"submit\", createNewTask);\nlistEl.addEventListener(\"click\", handleDeleteTask);\nlistEl.addEventListener(\"click\", handleFinishTask);\n"],"names":["createTaskMurkap","tasks","id","taskValue","isActive","alternativeEl","renderTaskMurkap","listEl","saveTasks","API_KEY","createNewTask","e","form","taskText","newTask","nanoid","handleDeleteTask","btn","li","handleFinishTask","span","findeTask","formEl"],"mappings":"svBAAA,SAASA,EAAiBC,EAAO,CAC/B,OAAOA,EACJ,IAAI,CAAC,CAAE,GAAAC,EAAI,UAAAC,EAAW,SAAAC,CAAQ,IACtB,WAAWF,0CACfE,EAAsB,GAAX,aACTD,gEACN,EACA,KAAK,EAAE,CACZ,CCNA,MAAME,EAAgB,sCACtB,SAASC,EAAiBC,EAAQN,EAAO,CACnCA,EAAM,SAAW,EACnBM,EAAO,UAAYP,EAAiBC,CAAK,EAEzCM,EAAO,UAAYF,CAEvB,CCTA,SAASG,EAAUC,EAASR,EAAO,CACjC,aAAa,QAAQQ,EAAS,KAAK,UAAUR,CAAK,CAAC,CACrD,CCEA,MAAMQ,EAAU,aACHF,EAAS,SAAS,cAAc,OAAO,EAEpD,IAAIN,EAAQ,KAAK,MAAM,aAAa,QAAQQ,CAAO,CAAC,GAAK,GAElD,SAASC,EAAcC,EAAG,CAC/BA,EAAE,eAAc,EAChB,MAAMC,EAAOD,EAAE,cACTE,EAAWD,EAAK,SAAS,KAAK,MAC9BE,EAAU,CAAE,GAAIC,EAAM,EAAI,UAAWF,EAAU,SAAU,IAC/DZ,EAAM,KAAKa,CAAO,EAClBN,EAAUC,EAASR,CAAK,EACxBK,EAAiBC,EAAQN,CAAK,EAC9BW,EAAK,MAAK,CACZ,CAEO,SAASI,EAAiBL,EAAG,CAClC,MAAMM,EAAMN,EAAE,OAAO,QAAQ,WAAW,EACxC,GAAI,CAACM,EAAK,OACV,MAAMC,EAAKD,EAAI,QAAQ,IAAI,EAI3BhB,EAHoBA,EAAM,OAAO,CAAC,CAAE,GAAAC,CAAE,IAC7BA,IAAOgB,EAAG,EAClB,EAEDV,EAAUC,EAASR,CAAK,EACxBK,EAAiBC,EAAQN,CAAK,CAChC,CAEO,SAASkB,EAAiBR,EAAG,CAClC,MAAMO,EAAKP,EAAE,OAAO,QAAQ,OAAO,EAC7BS,EAAOT,EAAE,OAAO,QAAQ,YAAY,EAC1C,GAAI,CAACS,EAAM,OACX,MAAMC,EAAYpB,EAAM,KAAK,CAAC,CAAE,GAAAC,CAAE,IACzBA,GAAMgB,EAAG,EACjB,EAEGG,EAAU,UACZA,EAAU,SAAW,GACrBD,EAAK,UAAU,IAAI,QAAQ,IAE3BA,EAAK,UAAU,OAAO,QAAQ,EAC9BC,EAAU,SAAW,IAEvBb,EAAUC,EAASR,CAAK,CAC1B,CAMAK,EAAiBC,EAAQN,CAAK,EC/C9B,MAAMqB,EAAS,SAAS,cAAc,OAAO,EAE7CA,EAAO,iBAAiB,SAAUZ,CAAa,EAC/CH,EAAO,iBAAiB,QAASS,CAAgB,EACjDT,EAAO,iBAAiB,QAASY,CAAgB"}